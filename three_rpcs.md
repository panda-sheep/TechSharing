||gRPC|libevent|MySQL GCS|
|-|-|-|-|
|文档完整度|只有最简单的demo教程和doxygen生成的API文档|内容相对丰富的教程和同样简陋的doxygen生成的API文档|基本上没有什么文档|
|第三方资料|主要以go和Java的gRPC为主,C++相关的比较缺失|比较稀少,不过更细致深入|基本没有|
|架构分析|自己实现的原子库和线程库</br>C语言实现最底层API,C++封装成面向对象形式的API之后,供用户使用</br>同步的server内置了线程池管理机制,对用户透明;异步server可以由用户自己管理进程|事件驱动,信号机制</br>|不单纯是一个通讯协议，而是在mysqld之上的接口层。<br>早起协议库：Corosyncs 一种通用GCS，可以作为HA框架</br>现在的协议库：XCom 基于协程的单线程paxos实现，事件驱动|
|主要组件|context上下文</br>channel构建通讯通道</br>server提供服务</br>completion_queue为异步通讯提供的消息队列</br>client调用服务</br>stub将client与channel绑定|核心事件模块</br>多线程管理</br>读写缓存</br>异步DNS解析</br>嵌入式http server</br>rpc框架||
|适用场景|不通语言编写的组件之间的通讯</br>RPC服务种类较多</br>RPC服务需要迭代扩展</br>对性能要求不是特别高</br>需要stream通讯|c/c++组件间的通讯</br>对性能有一定要求</br>封装程度较低,适合以其为基础做进一步定制|MySQL内部通讯|
|优点|封装透明度很高</br>易用性高</br>比较容易通过protobuf统一不同语言平台的调用接口</br>支持流式服务</br>容易对服务进行迭代扩展</br>社区活跃|灵活,性能有保障</br>源码原理结构比较简明清晰,||
|缺点|较难进行深度定制</br>性能方面有缺陷</br>暴露出来的机制有限|纯C的库,可能实际使用之前需要简单地再封装一下,否则裸指针太多,不符合现在C++的代码标准</br>编写出的代码可读性稍差</br>消息序列化和压缩可能需要自己实现||
